appId: com.gadgetboy.pos
productName: GadgetBoy POS
# Keep the installer name predictable on GitHub Releases (no folder digging).
artifactName: 'GadgetBoy-POS-Setup-${version}.${ext}'
directories:
  output: release
extraMetadata:
  main: app/electron-main.js
files:
  - dist/**
  - dist-main/**
  - app/electron-main.js
extraResources:
  - from: build/icon.ico
    to: build/icon.ico
win:
  target:
    - nsis
  icon: build/icon.ico
nsis:
  oneClick: false
  perMachine: false
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  installerIcon: build/icon.ico
  uninstallerIcon: build/icon.ico
  # Safety: never delete user data on uninstall (DB/backups/etc.)
  deleteAppDataOnUninstall: false

# Required for in-app updates via electron-updater.
# Set the correct repo in package.json "repository.url".
publish:
  - provider: github
